# 简介

Spring Config 分布式配置中心



微服务面临的一个问题

> 每个微服务都需要一个配置文件,并且,如果有几个微服务都需要连接数据库
> 那么就需要配4次数据库相关配置,并且当数据库发生改动,那么需要同时修改4个微服务的配置文件才可以

SpringCloud Config 为微服务架构中的微服务体哦概念股集中化的外部配置支持，配置服务为各个不同微服务应用的所有环境提供一个中心话的配置。

[官网](https://cloud.spring.io/spring-cloud-static/spring-cloud-config/2.2.1.RELEASE/reference/html/)



# 架构图

![](../\图片\springconfig的2.png)

Spring Cloud Config 分为服务端和客户端两部分

##  服务端

服务端也称为分布式配置中心，他是一个独立的应用，用来连接配置服务器并为客户端提供配置信息，加密/解密信息等访问接口

## 客户端

客户端则是通过指定的配置中心来管理应用资源，以及业务相关的配置雷榕，并在启动的时候在配置中心获取和加载配置信息，配置服务器默认采用git来存储配置信息，这样就有助于对环境进行版本管理，并且可以通过git客户端工具来方便管理和访问配置雷榕。





# 优点

1. 集中管理配置文件
2. 不同环境不同配置，动态化的配置更新，分环境部署比如dev/test/prod/beta/release
3. 运行期间动态调整配置，不再需要在每个服务部署的机器上编写配置文件，服务会向配置中心统一拉取配置自己的信息
4. 当配置发生变动时，服务不需要重启即可感知到配置的变化并应用新的配置
5. 将配置信息以REST接口的形式暴露，post、curl访问刷新均可....
6. 由于SpringCloud Config默认使用Git来存储配置文件（也有其它方式，比如支持svn和本地文件，但最推荐的还是Git，而且使用的是http/https访问的形式）