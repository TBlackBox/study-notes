# 简介
2一般来说，最后重用对象而不是在每次需要的时候就擦汗功能键一个相同功能的新对象。重用的方式既快速，又流行。如果对象是不可变的，他就始终可以被重用。

# 一个极端反面的例子
```
String s = new String("stringdate");
```
每次执行都会创建一个新的String实列，但`stringdate`本身都是String实列。如果这个调用很多次的化，就会创建很多个不必要的对象了。
改进：
```
String s = "stringdate";
```
这样就只用了一个实列，并且保证了在同一台虚拟机中运行的代码，只要他们包含相同的字符串字面变量，该对象就会被重用[JLS,3.10.5]

*** 注意： ***
除了重用不可变的对象外，也可以那些已知不会修改的可变对象，比如可变对象`Date`,他们的值一旦创建出来之后就不在变化，就可以重用了赛。

# 自动装箱
自动装箱使得基本类型和装箱类型之间的区别变得模糊起来。通过下面的例子，你都有所感悟了，创建对象的代价。
```
Long sum = 0L;
for(long i = 0;i < Integer.MAX_VALUE; i++) {
	sum += i;
}
System.out.println(sum);
```
在一般的开发电脑上，我运行出来是 9秒
然而将Long改为long

```
long sum = 0L;
for(long i = 0;i < Integer.MAX_VALUE; i++) {
	sum += i;
}
System.out.println(sum);
```
只需要1秒

# 总结
1. sum声明为Long而不是long，意味着要创建2的31次方给Long实列。
2. 要优先使用基本数据类型而不是基本数据类型，当心无意识的自动装箱。
3. 创建对象的代价是昂贵的，尽量避免创建对象，但附加对象提升重新的清晰性，简洁性和功能性，也是好事，对现在的JVM,小对象的创建和回收是非常廉价的。
4. 维护`对象池`来避免创建对象并不是一种好的做法，除非池中的对象非常重量级。例如数据连接池。
5. 重用对象付出的代价要远大于因创建重复对象而付出的代价，必要时如果没有实施保护性拷贝，将会导致潜在的漏洞和错误，而不必要的创建对象则只会影响程序的风格和性能。
