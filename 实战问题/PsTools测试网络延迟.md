# 简介 
psTools 是一套工具

(官方地址)[https://docs.microsoft.com/zh-cn/sysinternals/downloads/pstools]

下面测试这3个问题
- Tcp通讯网络延迟（小包：32、中包1k、大包1M）
- UDP通讯网络延迟（小包：32、中包1k、大包1M）
- 协议可用性

# 安装 
下载下来 解压即可用

## Tcp通讯网络延迟（小包：32、中包1k、大包1M）
执行命令Psping -w 2 -n 100 -l [packet-size] [serverip:port]

此命令可以兼顾时延和端口连通性测试。可以通过修改-l后面的参数达到完成小包至大包的测试工作。

## UDP通讯网络延迟（小包：32、中包1k、大包1M）
虽然在帮助信息中有提示使用-u参数可以测试udp的时延，但是经过抓包发现即使使用了-u参数，psping也是发出tcp报文，这应该是psping的一个bug。因而无法使用psping对udp的时延进行测试。

如果需要测试，则需要自研软件进行。

## 协议（端口）可用性
执行命令psping -q -i 0 [serverip:port]

由于psping在udp测试上存在的bug，所以只能对tcp的协议进行测试。

此命令仅能确认某些特定端口的tcp报文是否被馆方网络禁用（如类似文安的客流统计box的视频在公司内部被禁止的情况），但也仅限于端口而未能覆盖应用协议层次。如特定端口的报文被禁用则丢包应为100%。需要确认多少个特殊端口的tcp协议报文则执行多少次即可。